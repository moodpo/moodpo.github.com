<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>Moodpo Blog</title>
  <meta name="author" content="yangxiaoxie">
  
  <meta name="description" content="moodpo">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  
  <meta property="og:site_name" content="Moodpo Blog"/>

  <link rel="alternate" href="/atom.xml" title="Moodpo Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
</head>


<body>
  <div class="wrapper">
    <header id="header"><div class="title">
  <h1><a href="/">Moodpo Blog</a></h1>
  <p><a href="/">记录生活点滴，感悟程序人生</a></p>
</div>
<nav class="nav">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
    <div class="content">
  <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-06-23T08:29:45.000Z"><a href="/My-Work/after-install-ubuntu-1304.html">Jun 23 2013</a></time>
    
    
  
    <h1 class="title"><a href="/My-Work/after-install-ubuntu-1304.html">Ubuntu 13.04 安装后要做的几件事</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>系统安装已经变得很简单，但是安装完后离在其上开始进行开发却还很远；因为有很多事情还没有做，比如驱动、开发工具设置、系统设置等等，然而正是这些事情让进度卡壳。这次安装 Ubuntu 13.04其实是继续之前，之前安装失败了，重装也没有搞好。现在有点时间了，终于在周末搞的差不多了，先记录先来。</p>
<h2>一、ATI驱动安装</h2>
<p>在 Ubuntu 12.04 之前，一直使用这篇文章的方法安装即可，但是从 Ubuntu 12.10 开始，由于xorg的版本更新，而 ATI 驱动跟进太慢，AMD 最终放弃对 ATI Mobility Radeon HD 2xxx-4xxx系列显卡的支持，于是我就悲催鸟！</p>
<p>我的显卡是 ATI Mobility Radeon HD 4650，按照以前的方法安装失败，显卡不能驱动，风扇呼呼的扇，但温度还是很高。可通过一下命令查看显卡类型：</p>
<pre><code><figure class="highlight"><pre><span class="title">lspci</span> -vvnn | grep VGA
</pre></figure></code></pre>
<p>运行命令后我的显示内容：</p>
<pre><code><figure class="highlight"><pre>ping- SERR- FastB2B- DisINTx-
<span class="number">02</span>:<span class="number">00.0</span> VGA compatible controller <span class="matrix">[<span class="number">0300</span>]</span>: Advanced Micro Devices <span class="matrix">[AMD]</span> nee ATI RV730/M96 <span class="matrix">[Mobility Radeon HD <span class="number">4650</span>/<span class="number">5165</span>]</span> <span class="matrix">[<span class="number">1002</span>:<span class="number">9480</span>]</span> (prog-<span class="keyword">if</span> <span class="number">00</span> <span class="matrix">[VGA controller]</span>)
</pre></figure></code></pre>
<p>幸亏有老外开发者专门做了 PPA 源，可以装打好补丁的 fglrx ，运行以下命令：</p>
<pre><code><figure class="highlight"><pre>su<span class="operator"><span class="keyword">do</span> <span class="keyword">add</span>-apt-repository ppa:makson96/fglrx
sudo apt-<span class="keyword">get</span> <span class="keyword">update</span> &amp;&amp; sudo apt-<span class="keyword">get</span> upgrade
sudo apt-<span class="keyword">get</span> install fglrx-legacy
</pre></figure></code></pre>
<h2>二、安装 Eclipse 及插件</h2>
<p>安装 Eclipse 其实不能说叫安装，应该叫下载解压，从 www.eclipse.org 下载后解压到相应目录就可以运行了，当然需要JDK的支持，可以直接在软件中心安装 OpenJDK 。但是如果使用 Unity 环境就需要修复全局菜单bug，以及配置下 Unity 上的快捷方式。</p>
<h3>1. 全局菜单配置</h3>
<h4>1.1 备份要修改的文件</h4>
<pre><code><figure class="highlight"><pre>sudo <span class="keyword">cp</span> /usr/lib/gtk-<span class="number">2.0</span>/<span class="number">2.10</span><span class="number">.0</span>/menuproxies/libappmenu<span class="preprocessor">.so</span> /usr/lib/gtk-<span class="number">2.0</span>/<span class="number">2.10</span><span class="number">.0</span>/menuproxies/libappmenu<span class="preprocessor">.so</span><span class="preprocessor">.bak</span>
</pre></figure></code></pre>
<p>Ubuntu 13.04 中目录变更为以下：</p>
<pre><code><figure class="highlight"><pre><span class="preprocessor"># 64位操作系统</span>
/usr/lib/x86_64-linux-gnu/gtk-<span class="number">2.0</span>/<span class="number">2.10</span><span class="number">.0</span>/menuproxies/libappmenu.so
<span class="preprocessor"># 32位操作系统</span>
/usr/lib/i386-linux-gnu/gtk-<span class="number">2.0</span>/<span class="number">2.10</span><span class="number">.0</span>/menuproxies/libappmenu.so
</pre></figure></code></pre>
<h4>1.2 用vim打开文件并修改</h4>
<pre><code><figure class="highlight"><pre>sudo vim /usr/lib/gtk-<span class="number">2.0</span>/<span class="number">2.10</span><span class="number">.0</span>/menuproxies/libappmenu.so
<span class="preprocessor"># 搜索Eclipse并修改为Xclipse</span>
/Eclipse
rX
<span class="preprocessor"># 保存并退出</span>
ZZ
</pre></figure></code></pre>
<h4>1.3 重新载入LD配置(可选)</h4>
<pre><code><figure class="highlight"><pre>su<span class="operator"><span class="keyword">do</span> ldconfig
</pre></figure></code></pre>
<p>重新打开 Eclipse ，看是不是菜单已变成全局的了^_^</p>
<h3>2. 创建 Unity 快捷图标</h3>
<pre><code><figure class="highlight"><pre>su<span class="operator"><span class="keyword">do</span> gedit /usr/share/applications/eclipse.desktop
</pre></figure></code></pre>
<p>添加以下内容：</p>
<pre><code><figure class="highlight"><pre><span class="comment">#!/usr/bin/env xdg-open</span>

[<span class="constant">Desktop</span> <span class="constant">Entry</span>]

<span class="constant">Version</span>=<span class="number">1.0</span>
<span class="constant">Name</span>=<span class="constant">Eclipse</span>
<span class="constant">GenericName</span>=<span class="constant">Integrated</span> <span class="constant">Development</span> <span class="constant">Application</span>
<span class="constant">Comment</span>=<span class="constant">Eclipse</span> <span class="constant">Juno</span>
<span class="constant">Exec</span>=<span class="regexp">/home/username</span><span class="regexp">/[path]/eclipse</span>
<span class="constant">TryExec</span>=<span class="regexp">/home/username</span><span class="regexp">/[path]/eclipse</span>
<span class="constant">Icon</span>=eclipse
<span class="constant">Terminal</span>=<span class="keyword">false</span>
<span class="constant">Type</span>=<span class="constant">Application</span>
<span class="constant">Categories</span>=<span class="constant">Development</span>;<span class="constant">IDE</span>;
</pre></figure></code></pre>
<p>注意，Icon的路径无需指向刚下载解压的 Eclipse 里的图标，使用系统自己的即可。</p>
<p>好了，保存之后看一下 HUD 中是不是已经有了 Eclipse 了。</p>
<h3>3. 修改 Eclipse 的外观</h3>
<p>Eclipse 在 Win 下比较美观，然而在 Ubuntu 下可完全走了样，尤其是 Juno 版本，在 Ubuntu 和 Eclipse 论坛上一片 &quot;Very ugly!&quot; 之声。那巨大的 Tab,撑烂的 Toolbar，间距超大的的 TreeView 简直让人难以忍受。下面就带你一步步改变这些状况，拯救程序员本来就可怜的眼睛。</p>
<p>之所以会有上述糟糕的表现，不是 Eclipse 的问题，是因为 GTK 2.0 中的控件间距太大原因导致的，而谷歌搜索的大部分解决方法也正是着力于修改 GTK 2.0 控件的表现形式，重新定义一些样式。大多数方法是在 <code>/home/username/</code> 下新建 <code>.gtkrc-2.0</code> 文件，并在其中添加CSS。然而这种方法会把系统全局的样式都改变，比如 Chrome 的，甚至系统的菜单。哪有没有一种方法只修改 Eclipse 的呢？答案是肯定的！我们可以专门在启动 Eclipse 时指定 GTK 2.0 使用的 gtkrc 文件，而别的应用直接启动就不会受影响了。</p>
<p>自己定义实在是麻烦，好在已经有人为我们写好了，链接在<a href="https://github.com/nailgun/eclipse-gtkrc">这里</a>。你可以把它 git clone 到一个目录，然后修改，eclicp 脚本，比如我把它放在了 Public 下，eclipse 脚本内容如下：</p>
<pre><code><figure class="highlight"><pre><span class="shebang">#!/bin/bash</span>

myPATH=<span class="string">"$(dirname <span class="variable">$0</span>)"</span>
PATH=<span class="variable">${PATH/$myPATH/}</span>
eclipse=/home/xiaoxie/Work/eclipse/eclipse
GTK2_RC_FILES=<span class="variable">$HOME</span>/Public/clearlooks.gtkrc exec <span class="variable">$eclipse</span>
</pre></figure></code></pre>
<p>你也可以修改 clearlooks.gtkrc 文件的内容，默认定义的字体实在太小，可以试着改大些，内容无非就是一些 CSS 样式，这里就不多说了。</p>
<p>此外我还想推荐一个 Eclipse 主题 —— <a href="https://github.com/jeeeyul/eclipse-themes">Eclipse Chrome theme</a>,用起来实在是很爽！直接在 Eclipse Marketplace 里搜索安装即可。</p>
<p>ToolTip 背景色的问题直接安装 gnome-color 工具在里面修改即可。</p>
<p>最后展示下我的 Eclipse 最终效果吧！</p>
<p><img src="/media/2013/06/002.png" alt="Eclipse截屏" title="Eclipse 截屏"></p>
<h3>4. 安装 EGit 插件</h3>
<p>安装 git :</p>
<pre><code><figure class="highlight"><pre>su<span class="operator"><span class="keyword">do</span> apt-<span class="keyword">get</span> install git
</pre></figure></code></pre>
<p>JavaEE 的项目在 GitHub 上，这个插件就是必须的。可以直接在 Eclipse Marketplace 里搜索安装，非常方便。</p>
<h3>5. Sublime text 3 设置</h3>
<p>启用 Package Control 功能的方法（Packages/ 目录在 ～/.config/sublime-text-3/Packages/ 下）：</p>
<pre><code><figure class="highlight"><pre><span class="title">cd</span> <span class="type">Packages</span>/
<span class="title">git</span> clone https://github.com/wbond/sublime_package_control.git <span class="string">"Package Control"</span>
<span class="title">cd</span> <span class="string">"Package Control"</span>
<span class="title">git</span> checkout python3
</pre></figure></code></pre>
<p>重启后 Ctrl + Shift + p 如果出现“没有可用包”的情况，那估计是伟大的天朝的问题。解决方法有两种，一种是修改 Preferences -&gt; Package setting -&gt; Package Control -&gt; Setting-Default 文件中的 channels 属性，将 https 改为 http；另一种方法是直接在 Setting-Default 文件中配置代理。</p>
<p>还有很多地址可能被墙，可以使用简单有效的方法——修改 hosts ，这里是 hosts <a href="https://smarthosts.googlecode.com/svn/trunk/hosts">更新列表地址</a>，将内容添加到 /etc/hosts文件中即可。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>



  <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-06-04T08:27:00.000Z"><a href="/My-Work/java-programmers-in-the-eyes-of-javascript.html">Jun 4 2013</a></time>
    
    
  
    <h1 class="title"><a href="/My-Work/java-programmers-in-the-eyes-of-javascript.html">JavaScript的模块化：封装（闭包），继承（原型）</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>随着用户体验被越来越重视，前端的 JavaScript 越来越流行。看起来随随便便的 JavaScript 其实也可以像 Java 一样进行封装继承，只是看起来没那么明显而已。今天看了这篇文章，讲得非常好，有种顿悟的感觉，下面简单记录一下并加入一些自己的观点，更详细的看<a href="http://www.w3c.com.cn/?p=1320589">原文</a>吧。</p>
<blockquote>
<p>我们试图在页面上维护一个计数器对象 ticker ，这个对象维护一个数值 n 。随着用户的操作，我们可以增加一次计数（将数值 n 加上 1 ），但不能减少 n 或直接改变 n 。而且，我们需要时不时查看这个数值。</p>
</blockquote>
<h2>门户大开的 JSON 风格模块化</h2>
<pre><code><figure class="highlight"><pre><span class="keyword">var</span> ticker = {
    n:<span class="number">0</span>,
    tick:<span class="keyword">function</span>(){
        <span class="keyword">this</span>.n++;
    },
};
</pre></figure></code></pre>
<p>这种方式书写自然，而且确实有效，我们需要增加一次计数时，就调用 <code>ticker.tick()</code> 方法，需要查询次数时，就访问 <code>ticker.n</code> 变量。但是，模块的使用者被允许自由地改变 n ，比如调用 <code>ticker.n–</code> 或者 <code>ticker.n=-1</code>。。我们并没有对 <code>ticker</code> 进行封装， <code>n</code> 和 <code>tick()</code> 看上去是 <code>ticker</code> 的“成员”，但是它们的可访问性和 <code>ticker</code> 一样，都是全局性的（如果 <code>ticker</code> 是全局变量的话）。在封装性上，这种模块化的方式比下面这种更加可笑的方式，只好那么一点点（虽然对有些简单的应用来说，这一点点也足够了）。</p>
<pre><code><figure class="highlight"><pre><span class="keyword">var</span> ticker = {};
<span class="keyword">var</span> tickerN = <span class="number">0</span>;
<span class="keyword">var</span> tickerTick = <span class="keyword">function</span>(){
    tickerN++;
}

tickerTick();
</pre></figure></code></pre>
<p>值得注意的是，在 <code>tick()</code> 中，我访问的是 <code>this.n</code> ——这并不是因为 <code>n</code> 是 <code>ticker</code> 的成员，而是因为调用 <code>tick()</code> 的是 <code>ticker</code> 。事实上这里写成 <code>ticker.n</code> 会更好，因为如果调用 <code>tick()</code> 的不是 <code>ticker</code> ，而是其他什么东西，比如：</p>
<pre><code><figure class="highlight"><pre>var func = ticker.tick;
<span class="function"><span class="title">func</span><span class="params">()</span>;
</pre></figure></code></pre>
<p>这时，调用 <code>tick()</code> 的其实是 <code>window</code> ，而函数执行时会试图访问 <code>window.n</code> 而出错。</p>
<blockquote>
<p>JSON风格的模块化其实只是定义了一个模块的组织方式，并没有进行封装，它的成员其实都是全局变量。</p>
</blockquote>
<h2>作用域链和闭包</h2>
<pre><code><figure class="highlight"><pre><span class="keyword">var</span> config = {
    nStart:<span class="number">100</span>,
    step:<span class="number">2</span>
}

<span class="function"><span class="keyword">function</span> <span class="title">ticker</span><span class="params">(config)</span>{</span>
    <span class="keyword">var</span> n = config.nStart;
    <span class="function"><span class="keyword">function</span> <span class="title">tick</span><span class="params">()</span>{</span>
        n += config.step;
    }
}
console.log(ticker.n); <span class="comment">// -&gt;undefined</span>
</pre></figure></code></pre>
<p>JavaScript 中只有函数具有作用域，即在函数体外无法访问函数内部的变量。上面的例子，从 <code>tick()</code> 到 <code>ticker()</code> 再到全局，这就是 JavaScript 中的“作用域链”。</p>
<p>可是还有问题，那就是——怎么调用 <code>tick()</code> ？ <code>ticker()</code> 的作用域将 <code>tick()</code> 也掩盖了起来。解决方法有两种：</p>
<ul>
<li>1）将需要调用方法作为返回值，正如我们将递增 n 的方法作为 <code>ticker()</code> 的返回值；</li>
<li>2）设定外层作用域的变量，正如我们在 <code>ticker()</code> 中设置 <code>getN</code> 。</li>
</ul>
<p>代码如下</p>
<pre><code><figure class="highlight"><pre><span class="keyword">var</span> getN;
<span class="function"><span class="keyword">function</span> <span class="title">ticker</span><span class="params">(config)</span>{</span>
    <span class="keyword">var</span> n = config.nStart;
    getN = <span class="keyword">function</span>(){
        <span class="keyword">return</span> n;
    };
    <span class="keyword">return</span> <span class="keyword">function</span>(){
        n += config.step;
    };
}

<span class="keyword">var</span> tick = ticker({nStart:<span class="number">100</span>,step:<span class="number">2</span>});
tick();
console.log(getN()); <span class="comment">// -&gt;102</span>
</pre></figure></code></pre>
<p>这时，变量 <code>n</code> 就处在“闭包”之中，在 <code>ticker()</code> 外部无法直接访问它，但是却可以通过两个方法来观察或操纵它。</p>
<p>在本节第一段代码中， <code>ticker()</code> 方法执行之后， <code>n</code> 和 <code>tick()</code> 就被销毁了，直到下一次调用该函数时再创建；但是在第二段代码中， <code>ticker()</code> 执行之后， <code>n</code> 不会被销毁，因为 <code>tick()</code> 和 <code>getN()</code> 可能访问它或改变它，浏览器会负责维持n。我对“闭包”的理解就是：<strong>用以保证 <code>n</code> 这种处在函数作用域内，函数执行结束后仍需维持，可能被通过其他方式访问的变量 不被销毁的机制。</strong></p>
<p>可是，如果我需要维持两个具有相同功能的对象 <code>ticker1</code> 和 <code>ticker2</code> ，那该怎么办？ <code>ticker()</code> 只有一个，总不能再写一遍吧？</p>
<h2>new 运算符与构造函数</h2>
<p>如果通过 <code>new</code> 运算符调用一个函数，就会创建一个新的对象，并使用该对象调用这个函数。在我的理解中，下面的代码中 <code>t1</code> 和 <code>t2</code> 的构造过程是一样的。</p>
<pre><code><figure class="highlight"><pre><span class="function"><span class="keyword">function</span> <span class="title">myClass</span><span class="params">()</span><span class="comment">{}</span>
<span class="title">var</span> <span class="title">t1</span> = <span class="title">new</span> <span class="title">myClass</span><span class="params">()</span>;</span>
<span class="keyword">var</span> t2 = <span class="comment">{}</span>;
t2.func = myClass;
t2.func();
t2.func = undefined;
</pre></figure></code></pre>
<p><code>t1</code> 和 <code>t2</code> 都是新构造的对象， <code>myClass()</code> 就是构造函数了。类似的， <code>ticker()</code> 可以重新写成。</p>
<pre><code><figure class="highlight"><pre>function TICKER(config){
    var n = config<span class="preprocessor">.nStart</span><span class="comment">;</span>
    this<span class="preprocessor">.getN</span> = function(){
        return n<span class="comment">;</span>
    }<span class="comment">;</span>
    this<span class="preprocessor">.tick</span> = function(){
        n += config<span class="preprocessor">.step</span><span class="comment">;</span>
    }
}

var ticker1 = new TICKER({nStart:<span class="number">100</span>,step:<span class="number">2</span>})<span class="comment">;</span>
ticker1<span class="preprocessor">.tick</span>()<span class="comment">;</span>
console<span class="preprocessor">.log</span>(ticker1<span class="preprocessor">.getN</span>())<span class="comment">; // -&gt;102</span>
var ticker2 = new TICKER({nStart:<span class="number">20</span>,step:<span class="number">3</span>})<span class="comment">;</span>
ticker2<span class="preprocessor">.tick</span>()<span class="comment">;</span>
ticker2<span class="preprocessor">.tick</span>()<span class="comment">;</span>
console<span class="preprocessor">.log</span>(ticker2<span class="preprocessor">.getN</span>())<span class="comment">; // -&gt;26</span>
</pre></figure></code></pre>
<p>习惯上，构造函数采用大写。注意， <code>TICKER()</code> 仍然是个函数，而不是个纯粹的对象（之所以说“纯粹”，是因为函数实际上也是对象， <code>TICKER()</code> 是函数对象），闭包依旧有效，我们无法访问 <code>ticker1.n</code> 。</p>
<h2>原型 prototype 与继承</h2>
<p>上面这个 <code>TICKER()</code> 还是有缺陷，那就是， <code>ticker1.tick()</code> 和 <code>ticker2.tick()</code> 是互相独立的！请看，每使用 <code>new</code> 运算符调用 <code>TICKER()</code> ，就会生成一个新的对象并生成一个新的函数绑定在这个新的对象上，每构造一个新的对象，浏览器就要开辟一块空间，存储 <code>tick()</code> 本身和 <code>tick()</code> 中的变量，这不是我们所期望的。我们期望 <code>ticker1.tick</code> 和 <code>ticker2.tick</code> 指向同一个函数对象。</p>
<p><strong>JavaScript 中，除了 Object 对象，其他对象都有一个 prototype 属性，这个属性指向另一个对象。这“另一个对象”依旧有其原型对象，并形成原型链，最终指向 Object 对象。在某个对象上调用某方法时，如果发现这个对象没有指定的方法，那就在原型链上一次查找这个方法，直到 Object 对象。</strong></p>
<p>函数也是对象，因此函数也有原型对象。当一个函数被声明出来时（也就是当函数对象被定义出来时），就会生成一个新的对象，这个对象的 prototype 属性指向 Object 对象，而且这个对象的 constructor 属性指向函数对象。</p>
<p>通过构造函数构造出的新对象，其原型指向构造函数的原型对象。所以我们可以在构造函数的原型对象上添加函数，这些函数就不是依赖于 <code>ticker1</code> 或 <code>ticker2</code> ，而是依赖于 <code>TICKER</code> 了。</p>
<p>为了访问闭包中的内容，对象必须有一些简洁的依赖于实例的方法，来访问闭包中的内容，然后在其 <code>prototype</code> 上定义复杂的公有方法来实现逻辑。实际上，例子中的 <code>tick()</code> 方法就已经足够简洁了，我们还是把它放回到 <code>TICKER</code> 中吧。下面实现一个复杂些的方法 <code>tickTimes()</code> ，它将允许调用者指定调用 <code>tick()</code> 的次数。</p>
<pre><code><figure class="highlight"><pre>function TICKER(config){
    var n = config<span class="preprocessor">.nStart</span><span class="comment">;</span>
    this<span class="preprocessor">.getN</span> = function(){
        return n<span class="comment">;</span>
    }<span class="comment">;</span>
    this<span class="preprocessor">.tick</span> = function(){
        n += config<span class="preprocessor">.step</span><span class="comment">;</span>
    }<span class="comment">;</span>
}
TICKER<span class="preprocessor">.prototype</span><span class="preprocessor">.tickTimes</span> = function(n){
    while(n&gt;<span class="number">0</span>){
        this<span class="preprocessor">.tick</span>()<span class="comment">;</span>
        n--<span class="comment">;</span>
    }
}<span class="comment">;</span>
var ticker1 = new TICKER({nStart:<span class="number">100</span>,step:<span class="number">2</span>})<span class="comment">;</span>
ticker1<span class="preprocessor">.tick</span>()<span class="comment">;</span>
console<span class="preprocessor">.log</span>(ticker1<span class="preprocessor">.getN</span>())<span class="comment">; // -&gt;102</span>
var ticker2 = new TICKER({nStart:<span class="number">20</span>,step:<span class="number">3</span>})<span class="comment">;</span>
ticker2<span class="preprocessor">.tickTimes</span>(<span class="number">2</span>)<span class="comment">;</span>
console<span class="preprocessor">.log</span>(ticker2<span class="preprocessor">.getN</span>())<span class="comment">; // -&gt;26</span>
</pre></figure></code></pre>
<p>这个 <code>TICKER</code> 就很好了。它封装了 <code>n</code> ，从对象外部无法直接改变它，而复杂的函数 <code>tickTimes()</code> 被定义在原型上，这个函数通过调用实例的小函数来操作对象中的数据。</p>
<p>所以，为了维持对象的封装性，我的建议是，将对数据的操作解耦为尽可能小的单元函数，在构造函数中定义为依赖于实例的（很多地方也称之为“私有”的），而将复杂的逻辑实现在原型上（即“公有”的）。</p>
<p>最后再说一些关于继承的话。实际上，当我们在原型上定义函数时，我们就已经用到了继承！ JavaScript 中的继承比 C++ 中的更……呃……简单，或者说简陋。在 C++ 中，我们可能会定义一个 animal 类表示动物，然后再定义 bird 类继承 animal 类表示鸟类，但我想讨论的不是这样的继承（虽然这样的继承在 JavaScript 中也可以实现）；我想讨论的继承在 C++ 中将是，定义一个 animal 类，然后实例化了一个 myAnimal 对象。对，这在 C++ 里就是实例化，但在 JavaScript 中是作为继承来对待的。</p>
<p>JavaScript 并不支持类，浏览器只管当前有哪些对象，而不会额外费心思地去管，这些对象是什么 class 的，应该具有怎样的结构。在我们的例子中， TICKER() 是个函数对象，我们可以对其赋值（TICKER=1），将其删掉（TICKER=undefined），但是正因为当前有 ticker1 和 ticker2 两个对象是通过 new 运算符调用它而来的， TICKER() 就充当了构造函数的作用，而 TICKER.prototype 对象，也就充当了类的作用。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>



  <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-06-02T08:25:00.000Z"><a href="/My-Life/june-youth-future.html">Jun 2 2013</a></time>
    
    
  
    <h1 class="title"><a href="/My-Life/june-youth-future.html">六月，青春，未来</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><img src="/media/2013/06/001.jpg" alt="六月"></p>
<p>六一儿童节，网络上到处是“致我们终将逝去的童年”，K酷和北辰都在搞活动。今天我也趁六一活动期间在淘宝上买了几件小孩东西，无非就是各种小衣服，还有奶瓶，隔尿垫等。时间真是快，我无数遍在心里重复。</p>
<p>季节不停的更迭，我的人生从一个阶段进入另一个阶段，而我还是不知道自己的未来。但我从未放弃努力放弃抗争，也许如大酒神所说，即使我们终究默默无名，但我们的一生终将是抗争的一生。这也许就是最好的未来。</p>
<p>前几天李辉同学还问我程序的问题，我就想起约定的西藏青海之行。不知道到时候我能否完成约定，也实现自己的梦想，这种不确定，带来的是无尽的惆怅，计划总不如变化。晚上的时候在优酷看到一个视频，男主因一条描述云南大理风光的微博而只身前往了大理，并在那里巧遇爱情，甚至到最后也留了下来。对此我只能说这只是个故事，只发生在电影里的故事。现实中是很少有人放弃大城市的生活而到美丽而遥远的村落居住的。</p>
<p>大学的时候，我也许是我们班逃课最多的人吧。逃课去香山，去婚纱摄影基地，去凤凰公园，去凤栖湾，去天外村，甚至去龙氏山；而当看那个视频的时候，我也在问自己“我多久没看过风景了？”。是啊，我已多久没有看过风景了？来北京不知不觉已两年，活动范围一直在五公里内，呵呵。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>



  <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-05-28T08:13:44.000Z"><a href="/My-Work/how-install-apache-24-and-php-54.html">May 28 2013</a></time>
    
    
  
    <h1 class="title"><a href="/My-Work/how-install-apache-24-and-php-54.html">Window 7 安装 Apache 2.4 和 PHP 5.4 过程</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>现在使用UI向导安装AMP(Apache,MySQL和PHP)已经变得非常容易，比如XAMPP，WAMP。但是使用这些集成的包安装你只能获取很少的知识，对于其配置却一无所知，安装完之后也无法按照自己的方式去修改。因此我推荐手动去安装配置它们。</p>
<h2>一、下载地址</h2>
<ul>
<li>Apache 5.4 —— <a href="http://www.apachelounge.com/download/win32/binaries/httpd-2.4.4-win32.zip">httpd-2.4.4-win32.zip</a></li>
<li>PHP 5.4 ——  <a href="http://windows.php.net/downloads/releases/php-5.4.15-Win32-VC9-x86.zip">php-5.4.15-Win32-VC9-x86.zip</a></li>
</ul>
<p>注意，VC9线程安全版本中已经包含了PHP和Apache connector DLL，因此无需下载此DLL。</p>
<h2>二、配置</h2>
<h3>1. Apache</h3>
<p>使用任意编辑器打开 apache2.4/conf/httpd.conf 文件开始配置。</p>
<h4>1.1 设置 Apache 位置</h4>
<pre><code><figure class="highlight"><pre><span class="title">ServerRoot</span> <span class="string">"D:/Program Files/apache2.4"</span>
</pre></figure></code></pre>
<h4>1.2 启用使用的模块</h4>
<p>我只去掉了 mod_rewrite 模块的注释。</p>
<h4>1.3 在模块内容下增加以下内容</h4>
<pre><code><figure class="highlight"><pre>LoadModule php5_module "D:/Program Files/PHP5.4/php5apache2_4.dll"
Add<span class="operator"><span class="keyword">Handler</span> application/x-httpd-php .php
PHPIniDir <span class="string">"D:/Program Files/PHP5.4"</span>
</pre></figure></code></pre>
<h4>1.4 修改服务器管理员邮件地址</h4>
<p>ServerAdmin info@yoursite.com</p>
<h4>1.5 修改文档根目录</h4>
<pre><code><figure class="highlight"><pre>DocumentRoot "E:/www"
<span class="tag">&lt;<span class="title">Directory</span> "<span class="attribute">E:</span>/<span class="attribute">www</span>"&gt;</span>
</pre></figure></code></pre>
<h4>1.6 找到一下内容替换实际的路径</h4>
<pre><code><figure class="highlight"><pre>ScriptAlias /cgi-bin/ "D:/Program Files/apache2.4/cgi-bin/"
<span class="tag">&lt;<span class="title">Directory</span> "<span class="attribute">D:</span>/<span class="attribute">Program</span> <span class="attribute">Files</span>/<span class="attribute">apache2.4</span>/<span class="attribute">cgi-bin</span>"&gt;</span>
</pre></figure></code></pre>
<h4>1.7 如果你想启用 <code>.htaccess</code> 请修改 <code>&lt;Directory “D:/www”&gt;</code> 下内容</h4>
<pre><code><figure class="highlight"><pre><span class="title">AllowOverride</span> All
</pre></figure></code></pre>
<h4>1.8 添加 index.php 到 index 目录中</h4>
<pre><code><figure class="highlight"><pre>DirectoryIndex <span class="keyword">index</span>.html <span class="keyword">index</span>.php
</pre></figure></code></pre>
<h3>1. PHP</h3>
<h4>1.1 重命名 php.ini-development 为 php.ini</h4>
<h4>1.2 修改扩展路径</h4>
<pre><code><figure class="highlight"><pre><span class="setting">extension_dir = <span class="value"><span class="string">"D:/Program Files/PHP5.4/ext"</span></span></span>
</pre></figure></code></pre>
<h4>1.3 取消以下行的注释</h4>
<pre><code><figure class="highlight"><pre><span class="setting">extension=<span class="value">php_curl.dll</span></span>
<span class="setting">extension=<span class="value">php_mysql.dll</span></span>
<span class="setting">extension=<span class="value">php_mysqli.dll</span></span>
<span class="setting">extension=<span class="value">php_pdo_mysql.dll</span></span>
<span class="setting">extension=<span class="value">php_soap.dll</span></span>
</pre></figure></code></pre>
<h4>1.4 如果你使用 PHP 的邮件功能请修改下面内容</h4>
<pre><code><figure class="highlight"><pre><span class="setting">SMTP = <span class="value">smtp.yoursite.com</span></span>
<span class="setting">smtp_port = <span class="value"><span class="number">25</span></span></span>
<span class="setting">sendmail_from = <span class="value">youremail@sender.com</span></span>
</pre></figure></code></pre>
<h4>1.5 最后设置下时区</h4>
<pre><code><figure class="highlight"><pre><span class="filename">date.timezone = PRC
</pre></figure></code></pre>
<h2>三、安装</h2>
<p>需要将 Apache 2.4 的服务安装到系统服务中，使用以下命令(需要管理员权限)：</p>
<pre><code><figure class="highlight"><pre>cd <span class="constant">D</span><span class="symbol">:/Program</span> <span class="constant">Files</span>/apache2.<span class="number">4</span>/bin
httpd -k install
</pre></figure></code></pre>
<p>编写一个 index.php 文件，内容为 <code>&lt;?php phpinfo() ?&gt;</code>， 启动apache服务，访问以下 <a href="http://localhost/"><a href="http://localhost/">http://localhost/</a></a> 吧</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>



  <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2013-05-27T08:10:23.000Z"><a href="/My-Life/reasons-to-date-a-geek-boy.html">May 27 2013</a></time>
    
    
  
    <h1 class="title"><a href="/My-Life/reasons-to-date-a-geek-boy.html">和 geek 男谈恋爱的好处若干</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>这篇文章来自这里，对其内容有一些共鸣，颇有“这不是我吗”的感觉，因此转载下，原文在<a href="http://localhost-8080.com/2013/05/reasons-to-date-a-geek-boy/">这里</a>。</p>
<p>5 月 25 日是 Geek Pride Day，为了应景，决定写写这个拖欠了很久的文章，顺便给这篇文章做一个姊妹篇。通过各种途径结识了不少 geek 男，这里只是把我认为他们身上适用于恋爱的闪光点总结出来，如果还有谁正在和 geek 男恋爱，欢迎补充。</p>
<h2>Warning</h2>
<ol>
<li>Geek 男的用法绝不是修电脑。</li>
<li>Geek 男有时会让人难以理解，但他们同时是一种极需呵护的生物，决定领养前请务必慎重思考。一旦选择， 终身负责。</li>
</ol>
<h2>为什么和 geek 男谈恋爱</h2>
<h3>1. 投入</h3>
<p>Geek 最大的特点就是投入，100% 投入到自己热爱的事物中去。我一直认为男人最有魅力的一面就是专注做某件事的时候，geek 男会让这一面发挥得淋漓尽致，你可以尽情欣赏（比如，悄悄地坐在一边看着专注的他，看着他被屏幕照亮的脸，随着显示的颜色而变化，觉得莫名的喜感，扑哧一下笑出来，可就是不告诉他在笑什么…）。不止如此，一旦他认准了你，他会继续那份投入，他的 geek 特质会让他拿出研究那些爱好时废寝忘食的劲头去爱你。他为他的那些爱好都会做什么？花大量的时间精力、倾其所有、放弃其他、逢人便夸…对你也会如此。</p>
<h3>2. Geek 式的浪漫</h3>
<p>Geek 追求极致，也追求独特。特立独行的 geek 男对你表达爱的方式更是如此。神通广大的 geek 男会在各种特殊的日子准备一份大大的惊喜给你（看看各路 geek 男们是如何求婚、给另一半过 生 日、送情人节礼 物的吧）。有时候这份 geek 式的浪漫让人幸福得头晕，有时候也会弄巧成拙让人摸不着头脑，不管怎样，这样一份花费了他大量时间、精力的礼物（即便是买，也绝对是经过充分调研才挑中的），充满着他的心意，只属于你、独一无二，一点也不逊色于昂贵的礼物。</p>
<p><img src="http://pic.yupoo.com/i404/CT4fN4pI/716Kq.png" alt="I love you"></p>
<h3>3. Walking Google</h3>
<p>Geek 男一般都有着海量的知识储备，不只是在他所擅长的领域，还包括很多稀奇古怪的冷知识。和 geek 男在一起，每天你都有新收获，都会了解一些奇妙的事情。古时候人们称呼什么都知道的人为“活字典（Walking Dictionary）”，现今光自己知道很多已经不能满足需求了，还要会通过各种资源找到自己不知道的答案，geek 男就具备这种能力。Geek 男会像随时在身边的 Google 一样，抛给他一个问题，总会有答案：他知道答案就眉飞色舞地讲给你，不知道的话他会窝到角落里半天不理你，等你都忘了这回事了，他却突然神奇地给出一个像模像样的答案。Geek 男受不了有什么悬案，勾起了他的好奇心，就一定要亲自找一番资料，得到答案才罢休。正是因为如此，当出现一些问题需要解决时，geek 男也通常会执着地研究并顺利地解决。</p>
<h3>4. 简单</h3>
<p>我常说，geek 男都有一颗小女人的心。虽然很多 geek 朋友不服气我这种观点，可事实的确如此。虽然整天在研究一些深不可测的东西，但 geek 男通常是一种非常简单的生物：Geek 男像小孩子一样容易满足，他想要的东西显而易见，想让他开心真的很简单：他心仪已久的物件当然不在话下，甚至一件 geeky 的衣服，一次并不成功的进一步了解他爱好的尝试，都可以让他满心欢喜，而且毫不吝啬地表现出来。Geek 男会像小女人一样发点小脾气，但是也像小女人一样好哄：有时候 geek 男会沉浸在自己完美世界的设定中，当现实与设定不符，他未免会有些沮丧，每当这个时候你几乎可以用同样的招数把他哄好。geek 男就像简单的计算机程序，一旦摸清了套路，你就会掌握什么样的输入会有什么样的输出，他的反应非常容易预测。</p>
<h3>5. 完美的家</h3>
<p>如果上述优点都太精神层面，再来说个物质层面的好处吧。有些姑娘可能担心，未来的家会不会被 geek 男奇怪的收藏霸占。不要担心，geek 男会打造出一个完美的家。Geek 男对于高精尖设备的追求和大方是出了名的，这一点在爱巢中怎能没有体现。我知道的几个 geek 家庭，虽然各有各的对完美的定义，但他们的家中无一例外地充满了智能、现代化的元素。至于花费，富有富的活法，穷有穷的活法，反正 DIY 之类也难不倒他们。最重要的是，geek 们不会只买自己心仪的设备，而且也会为另一半购置有趣、高科技、符合她需求的物品（真的，不只是娱乐、数码，做饭、打扫、淋浴、打扮…所有领域都有 geek 化的产品）。比起这些，让他在家里摆上些心爱的小物件算得了什么呢？</p>
<h2>和 geek 男恋爱 FAQ</h2>
<h3>1. Q: Geek 男会不会只关心自己的那些东西，忽视我？</h3>
<p>A: 会。</p>
<h3>2. Q: Geek 男是不是都不修边幅？</h3>
<p>A: 乱蓬蓬的发型、稀稀疏疏的胡茬、永远是那几件T恤加牛仔裤…这似乎是典型 geek 的一个形象设定。首先并不是所有的 geek 都是如此。其次，geek 男也许真的对外表不大在意，但 geek 男对于自己在意的事情绝不含糊。比如 geek 男几乎无一例外地把自己的电脑组织得井井有条，再比如追求极致的 geek 男通常不能忍受自己出现语法、错别字等低级错误，会在这方面反复检查一丝不苟。不要被 geek 男外表的不修边幅误导，他不是乱糟糟的人。男人外表的精致还是要靠他的女人，成为 geek 男的女朋友，他的外表就由你来把关吧。</p>
<h3>3. Q: 和 geek 男恋爱，有什么特别需要注意的吗？</h3>
<p>A: Geek 男也是男人，而且恋爱的时候，无论他是哪种级别的 geek，他在很多方面都极有可能变得和普通人没什么区别，所以只是做一个普通的女朋友就可以了。碰巧和他有相同的爱好就要好好珍惜这一点，不是如此也没关系。想要更多的共同语言，可以尝试了解他的爱好，不过不需要太过勉强强迫自己也喜欢上，更不要奢望自己可以成为该领域的专家和他探讨高端的问题。你的努力和关心就已经足够了，剩下要做的就只是尽可能的理解和支持。</p>
<p>高智商的 geek 男却往往不能理解现实为什么不会像他自己一样简单、有规律，动情很深的他很容易受伤，这种傻傻的男人只能靠有爱心的女人来呵护了。这一篇短短的文章只是我根据个人观察总结而出的，覆盖面非常有限。Geek 男各有各的特点，不可能在这里全部涉及，geek 男自己独有的魅力，还需要和他交往才能慢慢体会到。珍惜你的 geek 男，他一定不会让你失望的。</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>




<nav id="pagination">
  
  
    <a href="/page/2/" class="next">Next</a>
  
  <div class="clearfix"></div>
</nav></div>
  </div>
  <div class="widget-wrapper">
    <aside id="sidebar">
  
  
    
    

<div class="widget tag first">
  <h3 class="title">Categories</h3>
  <ul class="entry">
  
    <li><a href="/categories/My-Life/">My Life</a><small>12</small></li>
  
    <li><a href="/categories/My-Work/">My Work</a><small>20</small></li>
  
    <li><a href="/categories/Other-Things/">Other Things</a><small>1</small></li>
  
  </ul>
</div>

  
    
    

<div class="widget tagcloud">
  <h3 class="title">Tag Cloud</h3>
  <div class="entry">
    <a href="/tags/2012/" style="font-size: 11.52px;">2012</a><a href="/tags/ATI/" style="font-size: 17.58px;">ATI</a><a href="/tags/J2EE/" style="font-size: 19.70px;">J2EE</a><a href="/tags/VPS/" style="font-size: 11.21px;">VPS</a><a href="/tags/aireplay-ng/" style="font-size: 12.42px;">aireplay-ng</a><a href="/tags/apache/" style="font-size: 16.97px;">apache</a><a href="/tags/axis2/" style="font-size: 10.00px;">axis2</a><a href="/tags/blog/" style="font-size: 18.48px;">blog</a><a href="/tags/eclipse/" style="font-size: 12.73px;">eclipse</a><a href="/tags/font/" style="font-size: 13.03px;">font</a><a href="/tags/geek/" style="font-size: 16.06px;">geek</a><a href="/tags/graduation/" style="font-size: 15.76px;">graduation</a><a href="/tags/java/" style="font-size: 10.91px;">java</a><a href="/tags/javascript/" style="font-size: 10.30px;">javascript</a><a href="/tags/june/" style="font-size: 14.24px;">june</a><a href="/tags/liquidluck/" style="font-size: 16.67px;">liquidluck</a><a href="/tags/love/" style="font-size: 14.55px;">love</a><a href="/tags/note/" style="font-size: 17.88px;">note</a><a href="/tags/php/" style="font-size: 17.27px;">php</a><a href="/tags/python/" style="font-size: 18.79px;">python</a><a href="/tags/select/" style="font-size: 15.15px;">select</a><a href="/tags/source/" style="font-size: 16.36px;">source</a><a href="/tags/struts2/" style="font-size: 19.39px;">struts2</a><a href="/tags/sublime/" style="font-size: 12.12px;">sublime</a><a href="/tags/summary/" style="font-size: 11.82px;">summary</a><a href="/tags/time/" style="font-size: 10.61px;">time</a><a href="/tags/twitter/" style="font-size: 13.33px;">twitter</a><a href="/tags/ubuntu/" style="font-size: 19.09px;">ubuntu</a><a href="/tags/was/" style="font-size: 14.85px;">was</a><a href="/tags/weibo/" style="font-size: 13.64px;">weibo</a><a href="/tags/wifi/" style="font-size: 18.18px;">wifi</a><a href="/tags/work/" style="font-size: 15.45px;">work</a><a href="/tags/youth/" style="font-size: 13.94px;">youth</a>
  </div>
</div>

  
    
    

<div class="widget recent-posts">
  <h3 class="title">Recent Posts</h3>
  <ul class="entry">
    
      <li>
        <a href="/My-Work/after-install-ubuntu-1304.html">Ubuntu 13.04 安装后要做的几件事</a>
      </li>
    
      <li>
        <a href="/My-Work/java-programmers-in-the-eyes-of-javascript.html">JavaScript的模块化：封装（闭包），继承（原型）</a>
      </li>
    
      <li>
        <a href="/My-Life/june-youth-future.html">六月，青春，未来</a>
      </li>
    
      <li>
        <a href="/My-Work/how-install-apache-24-and-php-54.html">Window 7 安装 Apache 2.4 和 PHP 5.4 过程</a>
      </li>
    
      <li>
        <a href="/My-Life/reasons-to-date-a-geek-boy.html">和 geek 男谈恋爱的好处若干</a>
      </li>
    
  </ul>
</div>

  
    
    
  
</aside>
<div class="clearfix"></div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2013 <a href="/">yangxiaoxie</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'moodpo' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>