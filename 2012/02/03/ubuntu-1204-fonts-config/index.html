<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>Ubuntu 12.04 字体配置 | Moodpo Blog</title>
  <meta name="author" content="yangxiaoxie">
  
  <meta name="description" content="moodpo">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  <meta property="og:title" content="Ubuntu 12.04 字体配置"/>
  <meta property="og:site_name" content="Moodpo Blog"/>

  <link rel="alternate" href="/atom.xml" title="Moodpo Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-43415414-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

</head>


<body>
  <div class="wrapper">
    <header id="header"><div class="title">
  <h1><a href="/">Moodpo Blog</a></h1>
  <p><a href="/">记录生活点滴，感悟程序人生</a></p>
</div>
<nav class="nav">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2012-02-03T02:37:34.000Z"><a href="/2012/02/03/ubuntu-1204-fonts-config/">Feb 3 2012</a></time>
    
    
  
    <h1 class="title">Ubuntu 12.04 字体配置</h1>
  

  </header>
  
  <div class="entry">
    
      <p>如果安装Ubuntu的英文版，中文字体在其下就会显示的极其丑陋；当然，如果你安装的是中文版，对默认的字体不满意也可以重新配置一下。</p>
<h3>1. 查看系统设置的字体存放目录</h3>
<p>根据/etc/fonts/fonts.conf，默认的字体文件存放在如下几个位置： </p>
<pre><code><figure class="highlight"><pre><span class="tag">&lt;<span class="title">dir</span>&gt;</span>/usr/share/fonts<span class="tag">&lt;/<span class="title">dir</span>&gt;</span>
<span class="tag">&lt;<span class="title">dir</span>&gt;</span>/usr/share/X11/fonts<span class="tag">&lt;/<span class="title">dir</span>&gt;</span>
<span class="tag">&lt;<span class="title">dir</span>&gt;</span>/usr/local/share/fonts<span class="tag">&lt;/<span class="title">dir</span>&gt;</span>
<span class="tag">&lt;<span class="title">dir</span>&gt;</span>~/.fonts<span class="tag">&lt;/<span class="title">dir</span>&gt;</span>
</pre></figure></code></pre>
<p>前三个字体存放位置需要root权限，而最后一个很自由，随便你怎么弄都不会有问题。如果在<code>~/</code>下没有<code>.fonts</code>目录，手动创建一个即可。</p>
<h3>2. 安装字体</h3>
<p>其实所谓的安装字体很简单，就是拷贝到上述<code>~/.fonts</code>目录啦。这里我推荐直接把M$系统的<code>fonts</code>文件夹下的字体都拷贝过来，这样，在浏览网页，写文档时，说不定什么时候就用到了；还有一种字体很值得安装：dejavu字体，Google找下下载吧。</p>
<p>拷贝完之后，还需要刷新下字体缓存，系统才会知道你又安装了那些字体：</p>
<pre><code><figure class="highlight"><pre><span class="comment">sudo</span> <span class="comment">fc</span>-<span class="comment">cache</span> <span class="literal">-</span><span class="comment">f</span> <span class="literal">-</span><span class="comment">v
</pre></figure></code></pre>
<h3>3. 字体配置</h3>
<p>以前配置字体，我都是直接修改或拷贝下别人的<code>.fonts.conf</code>文件，但是这种方法有时候不起作用，或者说这种方法只对你自己目录的字体起作用，而有些软件(其实是大部分软件)都不是在你的权限下安装的，而是在root权限下安装的，或者软件使用root权限在系统下先创建一个用户再使用此用户安装，这些情景下，只用<code>.fonts.conf</code>文件就不行。这是我的理解吧。</p>
<p>因此，这里推荐直接配置全局的字体：</p>
<p>ubuntu的全局字体配置在<code>/etc/fonts/</code>目录下：</p>
<pre><code><figure class="highlight"><pre><span class="comment">xiaoxie@xiaoxie</span>-<span class="comment">laptop:~$</span> <span class="comment">cd</span> <span class="comment">/etc/fonts</span>
<span class="comment">xiaoxie@xiaoxie</span>-<span class="comment">laptop:/etc/fonts$</span> <span class="comment">ls</span> <span class="literal">-</span><span class="comment">li</span>
<span class="comment">总用量</span> <span class="comment">24</span>
<span class="comment">1049890</span> <span class="comment">drwxr</span>-<span class="comment">xr</span>-<span class="comment">x</span> <span class="comment">2</span> <span class="comment">root</span> <span class="comment">root</span> <span class="comment">4096</span> <span class="comment">Jan</span> <span class="comment">29</span> <span class="comment">21:36</span> <span class="comment">conf</span>.<span class="comment">avail</span>
<span class="comment">1049891</span> <span class="comment">drwxr</span>-<span class="comment">xr</span>-<span class="comment">x</span> <span class="comment">2</span> <span class="comment">root</span> <span class="comment">root</span> <span class="comment">4096</span> <span class="comment">Jan</span> <span class="comment">29</span> <span class="comment">21:37</span> <span class="comment">conf</span>.<span class="comment">d</span>
<span class="comment">1049892</span> <span class="literal">-</span><span class="comment">rw</span>-<span class="comment">r</span>-<span class="literal">-</span><span class="comment">r</span>-<span class="literal">-</span> <span class="comment">1</span> <span class="comment">root</span> <span class="comment">root</span> <span class="comment">5287</span> <span class="comment">Aug</span> <span class="comment">22</span> <span class="comment">13:43</span> <span class="comment">fonts</span>.<span class="comment">conf</span>
<span class="comment">1049893</span> <span class="literal">-</span><span class="comment">rw</span>-<span class="comment">r</span>-<span class="literal">-</span><span class="comment">r</span>-<span class="literal">-</span> <span class="comment">1</span> <span class="comment">root</span> <span class="comment">root</span> <span class="comment">6961</span> <span class="comment">Aug</span> <span class="comment">22</span> <span class="comment">13:43</span> <span class="comment">fonts</span>.<span class="comment">dtd
</pre></figure></code></pre>
<p>可以看到，<code>/etc/fonts/</code>下一共有两个文件和两个文件夹(权限那列d表示directory)，这里解释下：<br>conf.avail：存放了许许多多的字体配置文件，可在<code>conf.d/readme</code>中看到相关解释<br>conf.d：存放的全都是对<code>conf.avail</code>中文件的软链接，这种方式在linux系统下很常见，比如apache的模块配置文件<br>fonts.conf：描述字体文件存放目录位置<br>fonts.dtd：<code>fonts.conf</code>是xml格式的，此文件就是此xml的规则约束文件</p>
<p>由于是设置中文字体，所以系统应该使用的是<code>69-language-selector-zh-cn.conf</code>这个文件，如果没有则在<code>conf.avail</code>中创建此文件：</p>
<pre><code><figure class="highlight"><pre>xiaoxie@xiaoxie-laptop:/etc/fonts/conf.avail$ su<span class="operator"><span class="keyword">do</span> touch <span class="number">69</span>-<span class="keyword">language</span>-selector-zh-cn.conf
</pre></figure></code></pre>
<p>对与字体设置，我们只需要对三种字体表现形式进行设置即可，分别是：Sans Serif、Serif和等宽字体。以下是我在<code>69-language-selector-zh-cn.conf</code>文件中的设置：</p>
<pre><code><figure class="highlight"><pre><span class="pi">&lt;?xml version="1.0"?&gt;</span>
<span class="doctype">&lt;!DOCTYPE fontconfig SYSTEM "fonts.dtd"&gt;</span>
<span class="tag">&lt;<span class="title">fontconfig</span>&gt;</span>

    <span class="tag">&lt;<span class="title">match</span> <span class="attribute">target</span>=<span class="value">"pattern"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">test</span> <span class="attribute">qual</span>=<span class="value">"any"</span> <span class="attribute">name</span>=<span class="value">"family"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>serif<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">test</span>&gt;</span>
        <span class="tag">&lt;<span class="title">edit</span> <span class="attribute">name</span>=<span class="value">"family"</span> <span class="attribute">mode</span>=<span class="value">"prepend"</span> <span class="attribute">binding</span>=<span class="value">"strong"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>WenQuanYi Micro Hei<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>DejaVu Serif<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>Bitstream Vera Serif<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>HYSong<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UMing CN<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UMing HK<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL ShanHeiSun Uni<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL New Sung<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>WenQuanYi Bitmap Song<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UKai CN<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL ZenKai Uni<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">edit</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">match</span>&gt;</span> 
    <span class="tag">&lt;<span class="title">match</span> <span class="attribute">target</span>=<span class="value">"pattern"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">test</span> <span class="attribute">qual</span>=<span class="value">"any"</span> <span class="attribute">name</span>=<span class="value">"family"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>sans-serif<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">test</span>&gt;</span>
        <span class="tag">&lt;<span class="title">edit</span> <span class="attribute">name</span>=<span class="value">"family"</span> <span class="attribute">mode</span>=<span class="value">"prepend"</span> <span class="attribute">binding</span>=<span class="value">"strong"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>WenQuanYi Micro Hei<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>DejaVu Sans<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>Bitstream Vera Sans<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>WenQuanYi Zen Hei<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>Droid Sans Fallback<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>HYSong<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UMing CN<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UMing HK<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL ShanHeiSun Uni<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL New Sung<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UKai CN<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL ZenKai Uni<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">edit</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">match</span>&gt;</span> 
    <span class="tag">&lt;<span class="title">match</span> <span class="attribute">target</span>=<span class="value">"pattern"</span>&gt;</span>
        <span class="tag">&lt;<span class="title">test</span> <span class="attribute">qual</span>=<span class="value">"any"</span> <span class="attribute">name</span>=<span class="value">"family"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>monospace<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">test</span>&gt;</span>
        <span class="tag">&lt;<span class="title">edit</span> <span class="attribute">name</span>=<span class="value">"family"</span> <span class="attribute">mode</span>=<span class="value">"prepend"</span> <span class="attribute">binding</span>=<span class="value">"strong"</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>WenQuanYi Micro Hei Mono<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>DejaVu Sans Mono<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>Bitstream Vera Sans Mono<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>WenQuanYi Zen Hei Mono<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>Droid Sans Fallback<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>HYSong<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UMing CN<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UMing HK<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL ShanHeiSun Uni<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL New Sung<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL UKai CN<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
            <span class="tag">&lt;<span class="title">string</span>&gt;</span>AR PL ZenKai Uni<span class="tag">&lt;/<span class="title">string</span>&gt;</span>
        <span class="tag">&lt;/<span class="title">edit</span>&gt;</span>
    <span class="tag">&lt;/<span class="title">match</span>&gt;</span> 

<span class="tag">&lt;/<span class="title">fontconfig</span>&gt;</span>
</pre></figure></code></pre>
<p>PS：可以根据自己的爱好修改这三种字体。</p>
<p>最后，需要在<code>conf.d</code>中建立软链接：</p>
<pre><code><figure class="highlight"><pre><span class="comment">sudo</span> <span class="comment">ln</span> <span class="literal">-</span><span class="comment">s</span> <span class="string">.</span><span class="string">.</span><span class="comment">/conf</span>.<span class="comment">avail/69</span>-<span class="comment">language</span>-<span class="comment">selector</span>-<span class="comment">zh</span>-<span class="comment">cn</span>.<span class="comment">conf
</pre></figure></code></pre>
<h3>4. 查看字体</h3>
<p>上述过程完成后，注销系统重新登入，检查下当前字体吧。下面是我设置后的效果，大爱微米黑啊！</p>
<p><img src="http://meiseku.com/moodpo/2012/02/01.png" alt="Ubuntu fonts"></p>

    
  </div>
  <footer>
    
      
  
  <div class="categories">
    <a href="/categories/My-Work/">My Work</a>
  </div>

      
  
  <div class="tags">
    <a href="/tags/ubuntu/">ubuntu</a>, <a href="/tags/font/">font</a>
  </div>

    
    <div class="clearfix"></div>
  </footer>
</article>


<section id="comment">
  <h1 class="title">Comments</h1>
  <div class="ds-thread" data-title="Ubuntu 12.04 字体配置">
  </div>
</section>
</div>
  </div>
  <div class="widget-wrapper">
    <aside id="sidebar">
  
  
</aside>
<div class="clearfix"></div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2013 <a href="/">yangxiaoxie</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'moodpo' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

</body>
</html>